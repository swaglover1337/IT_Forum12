<Page x:Class="IT_Forum.AdminPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:IT_Forum"
      mc:Ignorable="d" 
      d:DesignHeight="600" d:DesignWidth="900"
      Title="AdminPage"
      Background="{StaticResource MainBackgroundBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0"
                Background="{StaticResource SecondaryBackgroundBrush}"
                Padding="10">
            <DockPanel>
                <TextBlock Text="Режим администрирования IT-Форума"
                           Style="{StaticResource HeaderTextStyle}"/>
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center">
                    <Button Content="Режим редактора"
                            Click="EditorModeButton_Click"/>
                    <Button Content="Режим модератора"
                            Click="ModeratorModeButton_Click"/>
                </StackPanel>

                <Button Content="Вернуться на главную"
                        Click="BackButton_Click"
                        Height="50"
                        Width="300"/>
            </DockPanel>
        </Border>
        
        <Grid Grid.Row="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0">
                <Border Background="{StaticResource SecondaryBackgroundBrush}"
                        CornerRadius="5"
                        Padding="10"
                        Margin="0,0,0,10">
                    <StackPanel>
                        <TextBlock Text="Сотрудники и роли"
                                   Style="{StaticResource HeaderTextStyle}"/>
                        <ListView x:Name="UsersListView" Height="200">
                            <!-- TODO: сюда привязать список пользователей (авторы, модераторы, редакторы, админы) -->
                            <!-- ItemsSource="{Binding Users}" -->
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn Header="Логин" Width="120"
                                                    DisplayMemberBinding="{Binding UserName}"/>
                                    <GridViewColumn Header="Роль" Width="120"
                                                    DisplayMemberBinding="{Binding RoleName}"/>
                                </GridView>
                            </ListView.View>
                        </ListView>

                        <StackPanel Orientation="Horizontal"
                                    HorizontalAlignment="Left">
                            <Button Content="Добавить пользователя"/>
                            <Button Content="Изменить роль"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <Border Background="{StaticResource SecondaryBackgroundBrush}"
                        CornerRadius="5"
                        Padding="10">
                    <StackPanel>
                        <TextBlock Text="Рекламные партнёры"
                                   Style="{StaticResource HeaderTextStyle}"/>
                        <ListView x:Name="PartnersListView" Height="150">
                            <!-- TODO: сюда привязать список рекламных партнёров -->
                            <!-- ItemsSource="{Binding Partners}" -->
                        </ListView>
                        <StackPanel Orientation="Horizontal"
                                    HorizontalAlignment="Left">
                            <Button Content="Добавить партнёра"/>
                            <Button Content="Удалить партнёра"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </StackPanel>

            <StackPanel Grid.Column="1">
                <Border Background="{StaticResource SecondaryBackgroundBrush}"
                        CornerRadius="5"
                        Padding="10"
                        Margin="0,0,0,10">
                    <StackPanel>
                        <TextBlock Text="Логи системы"
                                   Style="{StaticResource HeaderTextStyle}"/>
                        <ListView x:Name="LogsListView" Height="200">
                            <!-- TODO: сюда привязать список логов действий -->
                            <!-- ItemsSource="{Binding Logs}" -->
                        </ListView>
                    </StackPanel>
                </Border>

                <Border Background="{StaticResource SecondaryBackgroundBrush}"
                        CornerRadius="5"
                        Padding="10">
                    <StackPanel>
                        <TextBlock Text="Недавняя активность сотрудников"
                                   Style="{StaticResource HeaderTextStyle}"/>
                        <ListView x:Name="StaffActivityListView" Height="150">
                            <!-- TODO: сюда привязать активность сотрудников (кто что сделал) -->
                            <!-- ItemsSource="{Binding StaffActivity}" -->
                        </ListView>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Grid>
    </Grid>
</Page>
